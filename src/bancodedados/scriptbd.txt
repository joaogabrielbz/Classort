CREATE SCHEMA classortbd;

/* joaogabrielbz */

/* Criando tabelas */

CREATE TABLE classortbd.turno (
    idTurno SERIAL PRIMARY KEY,
    nomeTurno VARCHAR(100) NOT NULL
);

CREATE TABLE classortbd.horarios (
    idHorario SERIAL PRIMARY KEY NOT NULL,
    inicioHorario TIME NOT NULL,
    fimHorario TIME NOT NULL,
    turnoId INT NOT NULL,
    FOREIGN KEY (turnoId) REFERENCES classortbd.turno(idTurno)
);

CREATE TABLE classortbd.semana (
    idSemana SERIAL PRIMARY KEY,
    segunda BOOLEAN NOT NULL,
    terca BOOLEAN NOT NULL,
    quarta BOOLEAN NOT NULL,
    quinta BOOLEAN NOT NULL,
    sexta BOOLEAN NOT NULL,
    sabado BOOLEAN NOT NULL,
    domingo BOOLEAN NOT NULL,
    turnoId INT NOT NULL,
    FOREIGN KEY (turnoId) REFERENCES classortbd.turno(idTurno)
);

CREATE TABLE classortbd.turma (
    idTurma SERIAL PRIMARY KEY NOT NULL,
    nomeTurma VARCHAR(100) NOT NULL NOT NULL,
    turnoId INT NOT NULL,
    FOREIGN KEY (turnoId) REFERENCES classortbd.turno(idTurno)
);

CREATE TABLE classortbd.disciplina (
    idDisciplina SERIAL PRIMARY KEY NOT NULL,
    nomeDisciplina VARCHAR(100) NOT NULL,
    professorDisciplina VARCHAR(100) NOT NULL,
    aulasDuplas BOOLEAN NOT NULL,
    turnoId INT NOT NULL,
    FOREIGN KEY (turnoId) REFERENCES classortbd.turno(idTurno)
);

CREATE TABLE classortbd.turma_disciplina (
    idTurmaDisciplina SERIAL PRIMARY KEY NOT NULL,
    qtdAulas INT NOT NULL,
    turmaId INT NOT NULL,
    disciplinaId INT NOT NULL,
    turnoId INT NOT NULL,
    FOREIGN KEY (turmaId) REFERENCES classortbd.turma(idTurma),
    FOREIGN KEY (disciplinaId) REFERENCES classortbd.disciplina(idDisciplina),
    FOREIGN KEY (turnoId) REFERENCES classortbd.turno(idTurno)
);

/* Inserindo turnos */

INSERT INTO classortbd.turno (nomeTurno) VALUES 
    ('Matutino'),
    ('Vespertino - Fundamental (1)'),
    ('Vespertino - Fundamental (2)');    

/* Inserindo semanas por turno */

INSERT INTO classortbd.semana (segunda, terca, quarta, quinta, sexta, sabado, domingo, turnoId)
VALUES (TRUE, TRUE, TRUE, TRUE, TRUE, FALSE, FALSE, 1);

INSERT INTO classortbd.semana (segunda, terca, quarta, quinta, sexta, sabado, domingo, turnoId)
VALUES (TRUE, TRUE, TRUE, TRUE, TRUE, FALSE, FALSE, 2);

INSERT INTO classortbd.semana (segunda, terca, quarta, quinta, sexta, sabado, domingo, turnoId)
VALUES (TRUE, TRUE, TRUE, TRUE, TRUE, FALSE, FALSE, 3);

/* Inserindo horarios por turno */

INSERT INTO classortbd.horarios (inicioHorario, fimHorario, turnoId) VALUES 
    (TIME '07:10:00', TIME '08:00:00', 1),
    (TIME '08:00:00', TIME '08:50:00', 1),
    (TIME '08:50:00', TIME '09:40:00', 1),
    (TIME '10:00:00', TIME '10:50:00', 1),
    (TIME '10:50:00', TIME '11:40:00', 1);

INSERT INTO classortbd.horarios (inicioHorario, fimHorario, turnoId) VALUES 
    (TIME '12:30:00', TIME '13:20:00', 2),
    (TIME '13:20:00', TIME '14:10:00', 2),
    (TIME '14:10:00', TIME '15:00:00', 2),
    (TIME '15:20:00', TIME '16:10:00', 2),
    (TIME '16:10:00', TIME '17:00:00', 2);
    
INSERT INTO classortbd.horarios (inicioHorario, fimHorario, turnoId) VALUES 
    (TIME '12:30:00', TIME '13:20:00', 3),
    (TIME '13:20:00', TIME '14:10:00', 3),
    (TIME '14:10:00', TIME '15:00:00', 3),
    (TIME '15:20:00', TIME '16:10:00', 3),
    (TIME '16:10:00', TIME '17:00:00', 3);
    
/* inserindo itens default do turno (1) */


/* inserindo itens default do turno (2) */   


/* inserindo itens default do turno (3) */
    
INSERT INTO classortbd.disciplina (nomeDisciplina, professorDisciplina, aulasDuplas, turnoId) VALUES ('Arte', 'DT1', false, 3);
INSERT INTO classortbd.disciplina (nomeDisciplina, professorDisciplina, aulasDuplas, turnoId) VALUES ('Arte', 'DT2', false, 3);
INSERT INTO classortbd.disciplina (nomeDisciplina, professorDisciplina, aulasDuplas, turnoId) VALUES ('L Portuguesa', 'Andréia', true, 3);
INSERT INTO classortbd.disciplina (nomeDisciplina, professorDisciplina, aulasDuplas, turnoId) VALUES ('L Portuguesa', 'Juliana', true, 3);
INSERT INTO classortbd.disciplina (nomeDisciplina, professorDisciplina, aulasDuplas, turnoId) VALUES ('L Portuguesa', 'DT1', true, 3);
INSERT INTO classortbd.disciplina (nomeDisciplina, professorDisciplina, aulasDuplas, turnoId) VALUES ('L Portuguesa', 'DT2', true, 3);
INSERT INTO classortbd.disciplina (nomeDisciplina, professorDisciplina, aulasDuplas, turnoId) VALUES ('Ed Física', 'DT1', false, 3);
INSERT INTO classortbd.disciplina (nomeDisciplina, professorDisciplina, aulasDuplas, turnoId) VALUES ('Matemática', 'Wanderson', true, 3);
INSERT INTO classortbd.disciplina (nomeDisciplina, professorDisciplina, aulasDuplas, turnoId) VALUES ('Matemática', 'Thiago', true, 3);
INSERT INTO classortbd.disciplina (nomeDisciplina, professorDisciplina, aulasDuplas, turnoId) VALUES ('Matemática', 'DT1', true, 3);
INSERT INTO classortbd.disciplina (nomeDisciplina, professorDisciplina, aulasDuplas, turnoId) VALUES ('Ciências', 'Viviâne', false, 3);
INSERT INTO classortbd.disciplina (nomeDisciplina, professorDisciplina, aulasDuplas, turnoId) VALUES ('Ciência ', 'DT1', false, 3);
INSERT INTO classortbd.disciplina (nomeDisciplina, professorDisciplina, aulasDuplas, turnoId) VALUES ('Geografia', 'Valério', false, 3);
INSERT INTO classortbd.disciplina (nomeDisciplina, professorDisciplina, aulasDuplas, turnoId) VALUES ('Geografia', 'Wallace', false, 3);
INSERT INTO classortbd.disciplina (nomeDisciplina, professorDisciplina, aulasDuplas, turnoId) VALUES ('História', 'Agenor', false, 3);
INSERT INTO classortbd.disciplina (nomeDisciplina, professorDisciplina, aulasDuplas, turnoId) VALUES ('História', 'DT2', false, 3);
INSERT INTO classortbd.disciplina (nomeDisciplina, professorDisciplina, aulasDuplas, turnoId) VALUES ('Ed Física', 'DT2', false, 3);
INSERT INTO classortbd.disciplina (nomeDisciplina, professorDisciplina, aulasDuplas, turnoId) VALUES ('Ens religioso', 'Agenor', false, 3);
INSERT INTO classortbd.disciplina (nomeDisciplina, professorDisciplina, aulasDuplas, turnoId) VALUES ('Inglês', 'Leilane', false, 3);
INSERT INTO classortbd.disciplina (nomeDisciplina, professorDisciplina, aulasDuplas, turnoId) VALUES ('História', 'DT1', false, 3);


INSERT INTO classortbd.turma (nomeTurma, turnoId) VALUES ('6v2', 3);
INSERT INTO classortbd.turma (nomeTurma, turnoId) VALUES ('6v3', 3);
INSERT INTO classortbd.turma (nomeTurma, turnoId) VALUES ('6v4', 3);
INSERT INTO classortbd.turma (nomeTurma, turnoId) VALUES ('6v1', 3);
INSERT INTO classortbd.turma (nomeTurma, turnoId) VALUES ('7v1', 3);
INSERT INTO classortbd.turma (nomeTurma, turnoId) VALUES ('7v2', 3);
INSERT INTO classortbd.turma (nomeTurma, turnoId) VALUES ('7v3', 3);
INSERT INTO classortbd.turma (nomeTurma, turnoId) VALUES ('8v1', 3);
INSERT INTO classortbd.turma (nomeTurma, turnoId) VALUES ('8v2', 3);
INSERT INTO classortbd.turma (nomeTurma, turnoId) VALUES ('8v3', 3);
INSERT INTO classortbd.turma (nomeTurma, turnoId) VALUES ('9v1', 3);
INSERT INTO classortbd.turma (nomeTurma, turnoId) VALUES ('9v2', 3);

INSERT INTO classortbd.turma_disciplina (qtdAulas, turmaId, disciplinaId, turnoId) 
VALUES 
(1, 9, 18, 3),
(3, 9, 14, 3),
(3, 9, 20, 3),
(3, 6, 20, 3),
(1, 6, 19, 3),
(5, 6, 4, 3),
(5, 6, 10, 3),
(2, 7, 1, 3),
(3, 7, 11, 3),
(2, 7, 17, 3),
(1, 7, 18, 3),
(3, 7, 13, 3),
(3, 7, 20, 3),
(1, 7, 19, 3),
(5, 7, 4, 3),
(5, 7, 10, 3),
(2, 8, 1, 3),
(3, 8, 12, 3),
(2, 8, 17, 3),
(1, 9, 19, 3),
(5, 9, 6, 3),
(2, 11, 2, 3),
(3, 11, 12, 3),
(2, 11, 7, 3),
(1, 11, 18, 3),
(5, 9, 9, 3),
(2, 10, 1, 3),
(3, 11, 14, 3),
(3, 11, 16, 3),
(1, 11, 19, 3),
(5, 11, 3, 3),
(5, 2, 5, 3),
(5, 2, 8, 3),
(2, 3, 1, 3),
(3, 3, 11, 3),
(2, 3, 17, 3),
(1, 3, 18, 3),
(3, 3, 13, 3),
(3, 10, 12, 3),
(2, 10, 17, 3),
(1, 10, 18, 3),
(3, 10, 14, 3),
(3, 10, 16, 3),
(1, 10, 19, 3),
(5, 10, 3, 3),
(5, 10, 9, 3),
(5, 11, 9, 3),
(2, 4, 1, 3),
(3, 4, 11, 3),
(2, 4, 17, 3),
(1, 4, 18, 3),
(3, 4, 13, 3),
(3, 4, 15, 3),
(1, 4, 19, 3),
(5, 4, 5, 3),
(2, 1, 1, 3),
(3, 1, 11, 3),
(2, 1, 17, 3),
(1, 1, 18, 3),
(2, 12, 2, 3),
(3, 12, 12, 3),
(2, 12, 7, 3),
(1, 12, 18, 3),
(3, 12, 14, 3),
(3, 12, 16, 3),
(1, 12, 19, 3),
(5, 12, 3, 3),
(5, 12, 9, 3),
(5, 4, 8, 3),
(3, 1, 13, 3),
(3, 3, 20, 3),
(1, 3, 19, 3),
(5, 3, 5, 3),
(5, 3, 8, 3),
(3, 1, 15, 3),
(2, 5, 1, 3),
(3, 5, 11, 3),
(2, 5, 17, 3),
(1, 5, 18, 3),
(3, 5, 13, 3),
(1, 8, 18, 3),
(3, 8, 14, 3),
(3, 8, 20, 3),
(1, 8, 19, 3),
(5, 8, 4, 3),
(5, 8, 10, 3),
(2, 9, 1, 3),
(3, 9, 12, 3),
(2, 9, 17, 3),
(1, 1, 19, 3),
(5, 1, 5, 3),
(5, 1, 8, 3),
(2, 2, 1, 3),
(3, 2, 11, 3),
(2, 2, 17, 3),
(1, 2, 18, 3),
(3, 2, 13, 3),
(3, 5, 20, 3),
(1, 5, 19, 3),
(5, 5, 4, 3),
(5, 5, 10, 3),
(2, 6, 1, 3),
(3, 6, 11, 3),
(2, 6, 17, 3),
(1, 6, 18, 3),
(3, 6, 13, 3),
(3, 2, 15, 3),
(1, 2, 19, 3);